<div>
  <form #signinForm="ngForm" class="form" (ngSubmit)="onSubmit(signinForm)">
    <div *ngIf="errorMessage" class="alert alert-danger">
      User doesn't exists
    </div>
    <div class="form-outline mb-4">
      <label class="form-label" for="userName">User Name</label>
      <input
        class="form-control form-control-lg"
        [(ngModel)]="user.username"
        id="userName"
        name="userName"
        #userName="ngModel"
        type="text"
        minlength="4"
        [disabled]="isLoading"
        required
      />

      <div
        *ngIf="userName.invalid && (userName.dirty || userName.touched)"
        class="alert alert-danger"
      >
        <div *ngIf="userName.errors?.['required']">Name is required.</div>
        <div *ngIf="userName.errors?.['minlength']">
          Name must be at least 4 characters long.
        </div>
      </div>
    </div>

    <div class="form-outline mb-4">
      <label class="form-label" for="emailAddress">Email address</label>
      <input
        class="form-control form-control-lg"
        [(ngModel)]="user.email"
        #emailAddress="ngModel"
        id="emailAddress"
        name="emailAddress"
        type="email"
        [disabled]="isLoading"
        required
        email
      />

      <div
        *ngIf="emailAddress.invalid && (emailAddress.dirty || userName.touched)"
        class="alert alert-danger"
      >
        Valid Email is required
      </div>
    </div>

    <div class="pt-1 mb-4">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="!signinForm.valid"
      >
        <span
          *ngIf="isLoading"
          class="spinner-border spinner-border-sm"
          role="status"
          aria-hidden="true"
        ></span>
        {{ isLoading ? "Loading..." : " Login" }}
      </button>
    </div>
  </form>
</div>
